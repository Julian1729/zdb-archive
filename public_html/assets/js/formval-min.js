!function(t){function e(t){var e="";for(var n in t)t.hasOwnProperty(n)&&(e.length>0&&(e+="&"),e+=encodeURI(n+"="+t[n]));return e}var n=function(t,e,o,i){return new n.init(t,e,o,i)},o=function(t){if(null===t){throw Error("Invalid form element.");return!1}return this.form=t,console.log("Valid Form element"),!0},i=function(t){for(var e={},n=t.querySelectorAll('INPUT:not([type="checkbox"]):not([type="radio"]), TEXTAREA'),o=0;o<n.length;o++){var i=n[o];(name=i.getAttribute("name"))&&(e[name]=i.value)}for(var r=t.querySelectorAll("INPUT[type=checkbox]"),o=0;o<r.length;o++){var i=r[o];(name=i.getAttribute("name"))&&i.checked&&(e[name]?e[name].push(i.value):e[name]=[i.value])}for(var a=t.querySelectorAll("INPUT[type=radio]"),o=0;o<a.length;o++){var i=a[o];(name=i.getAttribute("name"))&&i.checked&&(e[name]=i.value)}for(var l=t.querySelectorAll("SELECT"),o=0;o<l.length;o++){var i=l[o];(name=i.name)&&(e[name]=i.value)}return e},r=function(t,n,o,i,r){var a=this,l=new XMLHttpRequest;l.onreadystatechange=function(){4==this.readyState&&200==this.status&&r(a.form,this.responseText)},l.open(n,t,!0),l.setRequestHeader("Content-type","application/x-www-form-urlencoded"),l.send("_f="+encodeURIComponent(JSON.stringify(o))+"&"+e(i))};n.prototype={setSubmit:function(t){if("string"==typeof t&&(t=document.getElementById(t)),null===t||t.length||"[object HTMLCollection]"===t.toString())throw Error("Invalid submit element.");return t.onclick=this.submit.bind(this,t,this.form),this},submitButtonClick:function(t){"function"==typeof t&&(this.submitbtnCallback=t)},extras:function(t){if("object"==typeof t)if(this.extra)for(var e in t)t.hasOwnProperty(e)&&(this.extra[e]=t[e]);else this.extra=t;return this},submit:function(e,n){this.submitbtnCallback&&e&&this.submitbtnCallback.call(e,n);var o=i(n),a=this.options.url||n.getAttribute("action")||t.location.href,l=this.options.method||n.getAttribute("method")||"POST",s=this.extra;r.call(this,a,l,o,s,this.callback)}},n.init=function(t,e,n,i){if("string"==typeof t&&(t=document.getElementById(t)),!o.call(this,t))throw Error("First argument expected to be FORM element.");"function"==typeof e&&(this.callback=e,console.log("function")),"object"==typeof i&&(this.extra=i),this.options="object"==typeof n?n:{},this.form.onsubmit=function(){return!1},(submitBtn=t.querySelector("[data-formval=submit]"))&&(submitBtn.onclick=this.submit.bind(this,submitBtn,this.form))},n.init.prototype=n.prototype,t.Formval=t.F=n}(window);